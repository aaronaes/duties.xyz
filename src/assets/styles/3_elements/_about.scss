// About page

body.about {
  color: $grey;

  header {
    position: relative;

    article {
      .nav-item {
        a,
        .router-link-exact-active {
          overflow: visible;

          h1,
          h2 {
            color: $grey;
          }

          &:hover,
          &.router-link-exact-active {
            h1,
            h2 {
              color: $grey;
            }
          }
        }

        &.logo {
          svg {
            path {
              fill: $grey;
            }
          }
        }
      }
    }
  }

  main {
    svg {
      &.arrow {
        path {
          stroke: $grey;
        }
      }
    }

    section {
      &.content-block {
        article {
          @include display-grid;
          @include px(x0p5);

          figure {
            @include px(x0p5);
          }

          @include breakpoint(medium) {
            @include px(x0p25);

            figure {
              @include px(x0p25);
            }
          }

          @include breakpoint(large) {
            @include px(x0p125);

            figure {
              @include px(x0p125);
            }
          }
        }
      }

      &.masthead {
        article {
          figure {
            display: grid;
            grid-template-columns: repeat(25, 1fr);
            width: 100%;
            grid-column: 2 / 18;

            .title {
              grid-column: 1 / 26;
              grid-row: 1;
            }

            .dictionary {
              grid-column: 1 / 26;
              grid-row: 2;

              .meta {
                margin-top: $x0p5;

                p {
                  span {
                    &.icon {
                      cursor: pointer;
                      svg {
                        transform: translateY(7px);
                        margin-left: $x1;
                        path {
                          stroke-width: 4px;
                        }
                      }
                    }

                    &.audio {
                      color: $accent;
                      font-size: 0.7em;
                      text-transform: uppercase;
                      font-weight: bold;
                      letter-spacing: 2px;
                      margin-left: $x0p5;
                    }
                  }
                }
              }

              .meaning {
                margin-top: $x0p5;
                h2,
                p {
                  position: relative;
                  margin-top: $x0p5;
                  padding-left: $x0p5;

                  &:before {
                    content: "";
                    position: absolute;
                    top: 0;
                    left: 0;
                    display: block;
                    transform: translateX(-$x1p5);
                    opacity: 0.5;
                  }

                  &:first-of-type {
                    &:before {
                      content: "1.";
                    }
                  }
                  &:last-of-type {
                    &:before {
                      content: "2.";
                    }
                  }

                  @include breakpoint(small) {
                    margin-top: $x1;
                  }
                }
              }
            }
          }
        }
      }

      &.intro {
        article {
          @include display-grid;
          @include mt(x1);

          @include breakpoint(medium) {
            @include mt(x2);
          }

          @include breakpoint(large) {
            @include mt(x3);
          }

          &.block-inner {
            figure {
              grid-column: 1 / 26;

              .highlight,
              .highlight p {
                color: $accent !important;
              }

              .fadeOut {
                color: rgba($grey, $alpha: 0.05);
              }

              @media (hover: hover) {
                pointer-events: all;
              }

              h2 {
                &.markdown {
                  pointer-events: none;
                  white-space: pre-line;
                  display: block;
                  transition: color 500ms $easing;
                  will-change: color;

                  &:before {
                    content: "Studio";
                    text-transform: uppercase;
                    font-family: $font-tex-cond;
                    @include font-size(18px, 24px);
                    @include pr(x0p125);
                  }

                  span.audio {
                    pointer-events: all;
                    cursor: help !important;
                    display: inline-block;
                    transition: color 500ms $easing;
                    will-change: color;
                  }
                }

                &:hover {
                  pointer-events: none;
                  color: rgba($grey, $alpha: 0.05);

                  span.audio {
                    opacity: 1;
                    pointer-events: all;
                    color: $accent;
                  }

                  &:after {
                    opacity: 1;
                    color: $accent;
                  }
                }
              }

              p.tagline {
                @include font-size(18px, 24px);
                color: rgba($grey, $alpha: 0.25);
                transition: color 500ms $easing;
                display: block;
                @include pt(x0p125);
              }
            }
          }
        }
      }

      &.studioImages {
        article {
          &.image-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);

            figure {
              position: relative;
              opacity: 0;
              transition: opacity 300 $easing;
              transition-delay: calc(0.1s * var(--index));

              &.in-viewport {
                opacity: 1;
              }

              @include breakpoint(small only) {
                @include px(x0p5);
                grid-column: 1 / 4;
                @include pb(x0);

                &:first-of-type {
                  @include pr(x5);
                  grid-row: 1;
                }

                &:nth-of-type(2) {
                  @include pl(x2);
                  grid-row: 2;
                  grid-column: 1 / 3;
                }

                &:nth-of-type(3) {
                  grid-row: 2;
                  grid-column: 3 / 3;
                }
              }
            }

            @include breakpoint(medium) {
              figure {
                &:first-of-type {
                  grid-row: 1;
                  grid-column: 1 / 1;
                }

                &:nth-of-type(2) {
                  grid-row: 1;
                  grid-column: 2 / 2;
                }

                &:nth-of-type(3) {
                  grid-row: 1;
                  grid-column: 3 / 3;
                }
              }
            }

            @include breakpoint(large) {
              figure {
              }
            }
          }
        }
      }

      &.services {
        article {
          &.block-inner {
            .service-title {
              grid-row: 1;
              grid-column: 1 / 26;

              h1,
              h2 {
                &:before {
                  content: "Services";
                  text-transform: uppercase;
                  font-family: $font-tex-cond;

                  @include pr(x0p5);
                  @include font-size(18px, 24px);
                }
              }
            }

            .service-items {
              grid-column: 1 / 26;
              grid-row: 2;
              @include display-grid;
              @include mt(x1);

              figure {
                &.service-item {
                  grid-column: 1 / 26;
                  grid-row: 1;
                  display: flex;

                  @include breakpoint(medium) {
                    &:first-of-type {
                      grid-column: 1 / 8;
                    }

                    &:nth-of-type(2) {
                      grid-column: 8 / 15;
                    }

                    &:nth-of-type(3) {
                      grid-column: 15 / 22;
                    }
                  }

                  @include breakpoint(large) {
                    &:first-of-type {
                      grid-column: 1 / span 8;
                    }

                    &:nth-of-type(2) {
                      grid-column: 9 / span 8;
                    }

                    &:last-of-type {
                      grid-column: 18 / span 8;
                    }
                  }

                  .heading {
                    grid-column: 1 / 14;
                    grid-row: 1;
                    padding-left: $x0p125;
                    padding-right: $x0p125;

                    .title {
                      position: relative;
                      padding-left: $x0p5;

                      span {
                        position: absolute;
                        color: $accent;
                        left: 0;
                        top: 0;
                        @include font-size(14px, 20px);
                      }
                    }
                  }

                  .text-block {
                    grid-column: 1 / 26;
                    grid-row: 1;
                    align-items: start;

                    .icon {
                      position: relative;
                      font-family: $font-tex-bold;
                      float: left;
                      width: 2rem;
                      color: $accent;
                    }

                    .body {
                      float: left;

                      .title.bold {
                        font-family: $font-tex-bold;
                        @include pb(x0p125);
                      }

                      p.markdown {
                        ul {
                          list-style: none;
                          @include m(x0);
                          @include p(x0);

                          li {
                            @include m(x0);
                            @include p(x0);

                            &:after {
                              content: "→";
                              padding-left: 0.5rem;
                            }
                          }
                        }
                      }
                    }

                    &.last {
                      grid-row: 3;
                      @include mt(x1);
                    }
                  }
                }
              }
            }
          }
        }
      }

      &.people {
        article {
          grid-template-columns: repeat(24, 1fr);
          padding: 0;

          @include mt(x2);

          figure {
            &.person {
              .img-wrapper {
                overflow: hidden;
              }

              .main-text-block {
                h2,
                h3,
                p {
                  display: block;
                }

                .title {
                  margin-top: $x0p125;
                  margin-bottom: $x0p125;
                }
              }
            }

            &:nth-child(odd) {
              grid-column: 1 / 13;
            }

            &:nth-child(even) {
              grid-column: 13 / 25;
            }

            @include breakpoint(medium) {
              &:nth-child(odd) {
                grid-column: 3 / 13;
              }

              &:nth-child(even) {
                grid-column: 13 / 23;
              }
            }

            @include breakpoint(x-large) {
              &:nth-child(odd) {
                grid-column: 5 / 13;
              }

              &:nth-child(even) {
                grid-column: 13 / 21;
              }
            }
          }
        }
      }

      &.marquee {
        width: 100vw;
        @include mt(x2);

        article {
          @include display-grid;
          grid-template-rows: auto;

          figure {
            &.block-inner {
              grid-column: 1 / 26;
              grid-row: 1;
            }

            &.block-marquee {
              grid-row: 2;
              grid-column: 1 / 26;
              box-sizing: content-box;

              .inner {
                grid-column: 1 / 26;
                overflow: visible;
                display: flex;
                align-items: center;
                justify-content: space-evenly;
                width: 200vw;
                box-sizing: content-box;

                animation-iteration-count: infinite;
                animation-timing-function: linear;
                animation-direction: alternate-reverse;
                animation-name: ticker;
                animation-duration: 80s;

                will-change: transform;

                @keyframes ticker {
                  0% {
                    transform: translate3d(0, 0, 0);
                    visibility: visible;
                  }

                  50% {
                    transform: translate3d(-100%, 0, 0);
                  }

                  100% {
                    transform: translate3d(0, 0, 0);
                  }
                }

                &.inner.right {
                  animation-direction: alternate-reverse;
                  animation-duration: 48s;
                }

                h1 {
                  position: relative;
                  display: inline-block;
                  white-space: nowrap;
                  margin-right: $x0p125;
                  line-height: 0.825;

                  @include font-size(72px, 192px);

                  &:before {
                    content: "•";
                    color: $accent;
                    font-family: $font-tex-regular;
                    padding-right: $x0p125;
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
