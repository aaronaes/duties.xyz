.feed {
  position: fixed;
  height: 100vh;
  width: 100vw;
  top: 0;
  left: 0;
  overflow-y: scroll;
  overflow-x: hidden;
  z-index: 1000;
  background-color: $white;

  .inner {
    position: relative;

    .loading-block {
      position: fixed;
      top: 0;
      left: 0;
      height: 100vh;
      width: 100vw;
      background-color: initial;
      opacity: 1;
      z-index: 9999;
      background-color: $black;
      color: $white;

      .projectHeader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        display: grid;
        grid-template-columns: repeat(25, 1fr);

        nav {
          display: block;
          grid-column: 2 / 25;
          opacity: 1;
          height: auto;
          transition: all 400ms $easing;
          cursor: pointer !important;

          a {
            border: none !important;
            text-decoration: none !important;

            &:hover {
              color: initial;
            }
          }

          .nav-item {
            z-index: 1001;
            transition: all 400ms $easing;
            opacity: 1;

            h1,
            h2 {
              text-transform: uppercase;
              letter-spacing: -0.05em;
              margin-bottom: 0;
              line-height: 1;
              text-align: left;

              &.loading {
                margin-top: $x1;

                &:after {
                  overflow: hidden;
                  display: inline-block;
                  vertical-align: bottom;
                  animation: ellipsis steps(4, end) 1000ms infinite;
                  content: "\2026";
                  width: 0px;
                }

                @keyframes ellipsis {
                  to {
                    width: 1.2em;
                  }
                }
              }

              a {
                border-bottom: transparent;
                position: relative;
                display: block;

                &:hover,
                &.router-link-exact-active {
                  h1 {
                    color: $white;
                  }

                  svg {
                    overflow: visible;

                    .path {
                      animation: dash 400ms cubic-bezier(0.75, 0, 0.75, 1)
                        forwards;
                    }
                  }
                }

                svg {
                  position: absolute;
                  transform: translate(-50%, -50%);
                  top: 50%;
                  left: 50%;
                  bottom: 0;
                  width: 120%;
                  height: auto;

                  .path {
                    stroke-width: 10px;
                    stroke-dasharray: 2000;
                    stroke-dashoffset: 2000;
                  }

                  @keyframes dash {
                    from {
                      stroke-dashoffset: 2000;
                    }
                    to {
                      stroke-dashoffset: 0;
                    }
                  }
                }
              }
            }
          }
        }
      }

      .loading-title {
        z-index: 3000;
        position: fixed;
        transform: translate(-50%, -50%);
        top: 50%;
        left: 50%;

        h1 {
          font-size: calc(60px + 70 * (100vw - 375px) / 1680);
          line-height: calc(60px + 70 * (100vw - 375px) / 1680);
          text-transform: uppercase;
        }
      }
    }

    .project-body {
      position: relative;
      transform: translateY(100vh);
      opacity: 0;

      &.is-loaded {
        opacity: 1;
        transform: translateY(0vh);
      }

      .grid-block {
        .grid-item {
          display: grid;
          grid-template-columns: repeat(25, 1fr);

          &.banner-block {
            margin-top: $x1;

            .img-container {
              grid-column: 1 / 26;
              img {
                width: 100%;
                height: auto;
              }

              @include breakpoint(medium) {
                img {
                  width: 100%;
                  height: 60vh;
                  object-fit: cover;
                  object-position: 0% 0%;
                }
              }
            }
          }

          &.project-block {
            background-color: initial;
            opacity: 1;
            margin-top: $x1;

            .text-block {
              grid-column: 2 / 25;

              figure {
                &.text-container {
                  margin-top: $x1;

                  .tags {
                  }
                }
              }
            }

            .summary-block {
              position: relative;

              .imgBox {
                grid-column: 5 / 18;
                line-height: 0;
                border-radius: calc(2em + 2 * (100vw - 375px) / 1680);
                background-color: $black;
                overflow: hidden;

                @include breakpoint(medium) {
                  grid-column: 2 / 19;
                }

                @include breakpoint(small) {
                  grid-column: 2 / 19;
                }

                img {
                  border-radius: calc(2em + 2 * (100vw - 375px) / 1680);
                  padding: calc(8px + 12 * (100vw - 375px) / 1680);
                  display: block !important;
                  transition: transform 400ms $easing;
                }
              }
            }
          }

          &.quote-block {
            margin-top: $x4;
            margin-bottom: $x4;

            .text-block {
              grid-column: 2 / 25;

              @include breakpoint(medium) {
                grid-column: 2 / 20;
              }

              @include breakpoint(large) {
                grid-column: 2 / 13;
              }

              &.heading {
                padding-bottom: $x0p25;
              }
            }
          }

          &.image-text {
            margin-top: $x4;

            @include breakpoint(medium) {
              margin-top: $x2;
            }

            .img-block {
              align-self: stretch;
              grid-column: 2 / 13;

              @include breakpoint(medium) {
                grid-column: 3 / 13;
              }

              .img-container {
                top: 0;
                position: sticky;

                img {
                  align-self: flex-start;
                  padding-bottom: $x1;

                  &:last-of-type {
                    padding-bottom: 0px;
                  }
                }
              }
            }

            .text-block {
              position: sticky;
              top: $x1;
              align-self: flex-start;
              grid-column: 14 / 24;

              @include breakpoint(medium) {
                grid-column: 15 / 24;
              }
            }

            &.flip {
              .img-container {
                grid-column: 15 / 23;
              }
            }
          }

          &.single-img {
            margin-top: $x4;

            @include breakpoint(medium) {
              margin-top: $x1;
            }

            .img-container {
              grid-column: 2 / 25;

              &.website {
                grid-column: 1 / 26;
                background-color: #f1f0ee;
                overflow: hidden;
                padding: $x2;

                &:before {
                  content: "•••";
                  color: $black;
                  background-color: $grey;
                  padding: 0px $x0p5;
                  font-size: clamp(8px, 3vw, 24px);
                  letter-spacing: 1px;
                  line-height: clamp(16px, 3.5vw, 32px);
                  height: clamp(16px, 3.5vw, 32px);
                  display: block;
                  position: relative;
                  border-top-left-radius: clamp(2px, 1vw, 22px);
                  border-top-right-radius: clamp(2px, 1vw, 22px);
                  width: 100%;
                  display: flex;
                  flex-direction: row;
                  align-items: center;
                  justify-content: flex-start;
                }

                @include breakpoint(medium) {
                  grid-column: 1 / 26;
                  padding: $x2 $x1;

                  &:before {
                    content: "•••";
                    color: $black;
                    background-color: $grey;
                    padding: 0px $x0p25;
                    font-size: clamp(4px, 2.36vw, 24px);
                    letter-spacing: 1px;
                    line-height: clamp(12px, 3.15vw, 32px);
                    height: clamp(12px, 3.15vw, 32px);
                    display: block;
                    position: relative;
                    border-top-left-radius: clamp(4px, 2vw, 12px);
                    border-top-right-radius: clamp(4px, 2vw, 12px);
                    width: 100%;
                    display: flex;
                    flex-direction: row;
                    align-items: center;
                    justify-content: flex-start;
                  }
                }

                @include breakpoint(large) {
                  grid-column: 1 / 26;
                  padding: $x2 $x3;
                }

                img {
                  box-shadow: 0px 16px 48px -16px rgba(0, 0, 0, 0.24);
                  display: block !important;
                  transition: transform 400ms $easing;
                  border-bottom-left-radius: clamp(2px, 1vw, 22px);
                  border-bottom-right-radius: clamp(2px, 1vw, 22px);

                  @include breakpoint(medium) {
                    border-bottom-left-radius: clamp(4px, 2vw, 12px);
                    border-bottom-right-radius: clamp(4px, 2vw, 12px);
                  }
                }
              }

              &.device {
                margin-top: $x2;
                grid-column: 3 / 24;
                border-radius: clamp(16px, 4vw, 56px);
                background-color: $black;
                overflow: hidden;

                @include breakpoint(large) {
                  grid-column: 5 / 22;
                }

                img {
                  border-radius: clamp(16px, 4vw, 56px);
                  border: clamp(8px, 1vw, 24px) solid $black;
                  display: block !important;
                }
              }
            }

            figcaption {
              grid-column: 2 / 25;
              padding-top: $x0p5;

              @include breakpoint(medium) {
                grid-column: 2 / 20;
              }

              @include breakpoint(large) {
                grid-column: 2 / 13;
              }

              p {
                font-size: clamp(18px, 1.25vw, 22px);
                line-height: 1.45;
                float: left;
              }
            }

            &.bleed {
              margin-top: $x4;

              .img-container {
                grid-column: 1 / 26;

                img {
                  width: 100%;
                  height: 48vh;
                  object-fit: cover;
                  object-position: 30% 0%;
                }

                @include breakpoint(medium) {
                  img {
                    width: 100%;
                    height: auto;
                  }
                }
              }
            }
          }

          &.double-img {
            margin-top: $x4;

            @include breakpoint(medium) {
              margin-top: $x1;
            }

            .img-container {
              grid-row: 1;
              &.left-image {
                grid-column: 2 / 13;
              }
              &.right-image {
                grid-column: 14 / 25;
              }

              @include breakpoint(medium) {
                &.left-image {
                  grid-column: 2 / 13;
                }
                &.right-image {
                  grid-column: 14 / 25;
                }
              }

              // @include breakpoint(large) {
              //   &.left-image {
              //     grid-column: 4 / 13;
              //   }
              //   &.right-image {
              //     grid-column: 14 / 23;
              //   }
              // }
            }

            &.flip {
              .img-container {
                &.left-image {
                  grid-column: 14 / 25;
                }
                &.right-image {
                  grid-column: 2 / 13;
                }

                @include breakpoint(medium) {
                  &.left-image {
                    grid-column: 14 / 24;
                  }
                  &.right-image {
                    grid-column: 3 / 13;
                  }
                }
              }
            }
          }

          &.triple-img {
            display: block;
            width: 100vw;
            margin-top: $x4;

            .grid {
              padding: 0 $x2 0 $x2;

              overflow: auto;
              scroll-snap-type: x mandatory;
              display: grid;
              grid-auto-flow: column;
              grid-gap: $x2;

              &:after {
                content: "";
                display: block;
                width: $x1;
              }

              .img-container {
                scroll-snap-align: start;
                width: 45vw;

                &.device {
                  position: relative;

                  .device-inner {
                    border-radius: clamp(16px, 3vw, 56px);
                    position: relative;
                    box-sizing: border-box;
                    background: $black;

                    img {
                      width: 100%;
                      height: auto;
                      border-radius: clamp(16px, 3vw, 56px);
                      border: clamp(4px, 0.75vw, 16px) solid $black;

                      &:before,
                      &:after {
                        content: "";
                        display: block;
                        position: absolute;
                        background: $black;
                        box-shadow: inset 0 4px 7px 1px $black,
                          inset 0 -5px 20px rgba(173, 186, 204, 0.25),
                          0 2px 6px rgba(0, 21, 64, 0.14),
                          0 10px 20px rgba(0, 21, 64, 0.05);
                      }
                    }
                  }
                }
              }

              @include breakpoint(medium) {
                padding: 0 $x1 0 $x2;
                width: 100%;
                grid-template-columns: repeat(3, 1fr);
                grid-template-areas: "a b c";
                overflow: hidden;
                grid-auto-columns: unset;
                grid-gap: $x1;

                &:after {
                  content: "";
                  display: block;
                  width: 0px;
                }

                .img-container {
                  justify-items: center;
                  align-items: center;
                  position: relative;
                  width: auto;

                  &:first-of-type {
                    grid-area: a;
                    margin-left: auto;
                  }

                  &:nth-of-type(2) {
                    grid-area: b;
                    margin: 0 auto;
                  }

                  &:last-of-type {
                    grid-area: c;
                    margin-right: auto;
                  }
                }
              }

              @include breakpoint(large) {
                padding: 0 $x3 0 $x4;
                width: 100%;
                grid-template-columns: repeat(3, 1fr);
                grid-template-areas: "a b c";
                overflow: hidden;
                grid-auto-columns: unset;

                &:after {
                  content: "";
                }

                .img-container {
                  justify-items: center;
                  align-items: center;
                  position: relative;

                  &:first-of-type {
                    grid-area: a;
                    margin-left: auto;
                  }

                  &:nth-of-type(2) {
                    grid-area: b;
                    margin: 0 auto;
                  }

                  &:last-of-type {
                    grid-area: c;
                    margin-right: auto;
                  }
                }
              }
            }
          }

          &.image-carousel {
            display: grid;
            grid-template-columns: repeat(1, auto);
            margin-top: $x3;
            margin-bottom: $x3;

            @include breakpoint(medium) {
              margin-top: $x3;
              margin-bottom: $x3;
            }

            .swiper-container {
              overflow-x: hidden;
              width: 100vw;
              height: auto;

              .swiper-wrapper {
                width: 100vw;

                .swiper-slide {
                  cursor: move; /* fallback if grab cursor is unsupported */
                  cursor: grab;
                  width: auto;
                  margin-left: $x1;

                  &:first-of-type {
                    margin-left: $x2 !important;
                  }

                  &:last-of-type {
                    margin-right: $x1;
                    &:after {
                      width: $x2;
                      content: "";
                    }
                  }

                  @include breakpoint(medium) {
                    margin-left: $x1p5;

                    img {
                      max-width: 275px;
                      height: auto;
                    }

                    &:first-of-type {
                      margin-left: $x3 !important;
                    }

                    &:last-of-type {
                      margin-right: $x2;
                      &:after {
                        width: $x3;
                        content: "";
                      }
                    }
                  }

                  img {
                    position: relative;
                    top: 50%;
                    transform: translateY(-50%);
                  }
                }
              }
            }
          }

          &.meta-block {
            width: 100vw;
            min-height: 50vh;
            padding-top: calc(#{$x3} * 2);
            padding-bottom: calc(#{$x3} * 2);

            .text-block {
              grid-column: 2 / span 9;

              &:first-of-type {
                grid-row: 1;
                padding-bottom: 4vw;
              }
              &:last-of-type {
                grid-row: 2;
              }

              &:only-of-type {
                grid-row: 1;
                grid-column: 2 / span 9;
              }

              @include breakpoint(small) {
                margin-right: auto;
                padding-bottom: 8vw;

                &:first-of-type {
                  grid-column: 2 / 25;
                  grid-row: 1;
                }
                &:last-of-type {
                  grid-column: 2 / 25;
                  grid-row: 2;
                }
              }

              .text-container {
                @include breakpoint(small) {
                  padding: 0;
                }

                div {
                  h1,
                  h2 {
                    padding-bottom: $x0p25;
                  }
                  p,
                  p {
                    &.body-text {
                      a {
                        border-bottom: 2px solid $grey;
                      }
                    }
                  }
                }
              }
            }
          }

          &.links {
            width: 100vw;
            padding: calc(4vh + 4vw) 0;
            display: inline-grid;
            grid-template-columns: repeat(6, 1fr);

            a {
              &:hover {
                border-bottom: none !important;
              }
            }

            .text-block {
              grid-column: 3 / span 2;

              .text-container {
                padding: 0 $x1p5;
              }
            }
          }
        }
      }
    }

    .similar-block {
      margin-top: $x4;
      z-index: 2000;
      display: grid;
      grid-template-columns: repeat(25, 1fr);
      min-height: 60vh;

      @include breakpoint(medium) {
        min-height: 100vh;
      }

      .project-grid {
        position: relative;
        grid-column: 2/25;
        z-index: 9999;
        align-self: end;

        ul {
          list-style: none;
          padding-bottom: $x1;

          p {
            padding-bottom: 4vw;
          }

          li {
            display: flex;
            margin-bottom: $x0p125;
            flex-wrap: wrap;
            flex-direction: row;
            justify-content: flex-start;
            width: 200vw;
            list-style: none !important;

            &:last-of-type {
              margin-bottom: 0px;
            }

            @include breakpoint(medium) {
              width: 100%;
            }

            a {
              .project-content {
                display: flex;
                flex-wrap: wrap;
                flex-direction: row;
                justify-content: flex-start;
                width: 200vw;

                @include breakpoint(large) {
                  flex-wrap: wrap;
                  width: 100%;
                }

                h1 {
                  text-transform: uppercase;
                  pointer-events: all;
                  cursor: pointer;
                }

                .tags {
                  display: none;
                  p {
                    margin-bottom: clamp(4px, 0.7vw, 12px);
                  }

                  @include breakpoint(medium) {
                    display: initial;
                    margin-left: 16px;
                  }
                }
              }
            }

            &:hover {
              a {
                h1 {
                  color: $accent;
                }

                .tags {
                  p {
                    background-color: $accent;
                    color: $white;
                  }
                }
              }
            }

            &.isOpen {
              pointer-events: none;
              cursor: pointer;
              a {
                h1 {
                  text-decoration: line-through;
                }
              }
            }
          }
        }
      }
    }
  }
}
