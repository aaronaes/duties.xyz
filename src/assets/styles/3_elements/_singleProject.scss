.feed {
  position: fixed;
  height: 100vh;
  width: 100vw;
  top: 0;
  left: 0;
  overflow-y: scroll;
  overflow-x: hidden;
  z-index: 1000;
  background-color: $white;

  .inner {
    position: relative;

    .loading-block {
      position: fixed;
      top: 0;
      left: 0;
      height: 100vh;
      width: 100vw;
      background-color: initial;
      opacity: 1;
      z-index: 2000;
      background-color: $black;
      color: $white;

      .projectHeader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        display: grid;
        grid-template-columns: repeat(25, 1fr);

        nav {
          display: block;
          grid-column: 2 / 25;
          opacity: 1;
          height: auto;
          transition: all 200ms $easing;
          cursor: pointer !important;

          a {
            border: none !important;
            text-decoration: none !important;

            &:hover {
              color: initial;
            }
          }

          .nav-item {
            z-index: 1001;
            transition: all 200ms $easing;
            opacity: 1;

            h1,
            h2 {
              text-transform: uppercase;
              letter-spacing: -0.05em;
              margin-bottom: 0;
              line-height: 1.1;
              font-size: calc(36px + 84 * (100vw - 320px) / 1680);
              text-align: left;

              &.loading {
                margin-top: 4vw !important;
                &:after {
                  overflow: hidden;
                  display: inline-block;
                  vertical-align: bottom;
                  animation: ellipsis steps(4, end) 1000ms infinite;
                  content: "\2026";
                  width: 0px;
                }

                @keyframes ellipsis {
                  to {
                    width: 1.2em;
                  }
                }
              }

              a {
                border-bottom: transparent;
                position: relative;
                display: block;

                &:hover,
                &.router-link-exact-active {
                  h1 {
                    color: $white;
                  }

                  svg {
                    overflow: visible;

                    .path {
                      animation: dash 200ms cubic-bezier(0.75, 0, 0.75, 1)
                        forwards;
                    }
                  }
                }

                svg {
                  position: absolute;
                  transform: translate(-50%, -50%);
                  top: 50%;
                  left: 50%;
                  bottom: 0;
                  width: 120%;
                  height: auto;

                  .path {
                    stroke-width: 10px;
                    stroke-dasharray: 2000;
                    stroke-dashoffset: 2000;
                  }

                  @keyframes dash {
                    from {
                      stroke-dashoffset: 2000;
                    }
                    to {
                      stroke-dashoffset: 0;
                    }
                  }
                }
              }
            }
          }
        }
      }

      .loading-title {
        z-index: 3000;
        position: fixed;
        transform: translate(-50%, -50%);
        top: 50%;
        left: 50%;

        h1 {
          font-size: calc(15vw);
        }
      }
    }

    .project-body {
      position: relative;
      transform: translateY(100vh);
      opacity: 0;
      visibility: hidden;

      &.is-loaded {
        opacity: 1;
        visibility: visible;
        transform: translateY(0vh);
      }

      .projectHeader {
        position: sticky;
        width: 100vw;
        top: 0;
        z-index: 1500;

        nav {
          display: grid;
          grid-template-columns: repeat(25, 1fr);
          position: relative;
          opacity: 0;
          height: 100px;
          transform: translateY(-20px);
          transition: all 200ms $easing;
          transition-delay: 1000ms;

          @include breakpoint(small down) {
            height: 80px;
          }

          .nav-item {
            grid-column-end: 25;
            text-align: right;
            z-index: 1001;
            transition: all 200ms $easing;
            opacity: 1;

            h1,
            h2 {
              text-transform: uppercase;
              letter-spacing: -0.05em;
              margin-bottom: 0;
              line-height: 48px;

              a {
                border-bottom: transparent;
                position: relative;
                display: block;

                &:hover,
                &.router-link-exact-active {
                  h1 {
                    color: $white;
                  }

                  svg {
                    overflow: visible;

                    .path {
                      animation: dash 200ms cubic-bezier(0.75, 0, 0.75, 1)
                        forwards;
                    }
                  }
                }

                svg {
                  position: absolute;
                  transform: translate(-50%, -50%);
                  top: 50%;
                  left: 50%;
                  bottom: 0;
                  width: 120%;
                  height: auto;

                  .path {
                    stroke-width: 10px;
                    stroke-dasharray: 2000;
                    stroke-dashoffset: 2000;
                  }

                  @keyframes dash {
                    from {
                      stroke-dashoffset: 2000;
                    }
                    to {
                      stroke-dashoffset: 0;
                    }
                  }
                }
              }
            }
          }

          &.is-loaded {
            transform: translateY(0px);
            opacity: 1;
          }
        }
      }

      .grid-block {
        .grid-item {
          display: grid;
          position: relative;
          grid-template-columns: repeat(25, 1fr);

          &.details {
            background-color: initial;
            opacity: 1;
            padding-top: 3vw;
            margin-top: calc(-100px - 20 * (100vw - 320px) / 1680);

            .text-block {
              grid-column: 2 / 15;

              @include breakpoint(medium down) {
                grid-column: 3 / 21;
              }

              @include breakpoint(small down) {
                grid-column: 3 / 24;
              }

              .text-container {
                blockquote {
                  .body-title {
                    font-size: calc(48px + 72 * (100vw - 320px) / 1680);
                    padding-bottom: $paddingS;
                  }
                }
              }
            }

            .summary-block {
              position: relative;

              .imgBox {
                grid-column: 5 / 18;
                line-height: 0;
                border-radius: calc(2em + 2 * (100vw - 320px) / 1680);
                background-color: $black;
                overflow: hidden;

                @include breakpoint(medium down) {
                  grid-column: 2 / 19;
                }

                @include breakpoint(small down) {
                  grid-column: 2 / 19;
                }

                img {
                  border-radius: calc(2em + 2 * (100vw - 320px) / 1680);
                  padding: calc(8px + 12 * (100vw - 320px) / 1680);
                  display: block !important;
                  transition: transform 200ms $easing;
                }
              }
            }

            .scrollMe {
              position: absolute;
              display: flex;
              justify-content: space-around;
              bottom: $paddingS;
              opacity: 0;
              transform: translate(-50%, 0);
              animation: bounce 3000ms infinite;
              animation-timing-function: cubic-bezier(0.28, 0.84, 0.42, 1);

              &.box {
                opacity: 0;
                transition: opacity 200ms $easing;
                transition-delay: 1200ms;
                &.above-viewport {
                  opacity: 0;
                  &.is-viewport {
                    opacity: 1;
                  }
                }
              }

              a {
                border-bottom: none;
                text-decoration: none !important;
                transform: rotate(90deg);

                p {
                  padding: 2rem;
                  transition: all 200ms $easing;
                }
              }

              &:hover {
                animation-play-state: paused;
                transform: translate(-50%, $paddingM);
              }

              &.isVisible {
                opacity: 1;
                transform: translate(-50%, $paddingM);
              }

              @keyframes bounce {
                0%,
                100% {
                  transform: translateY(-$paddingS);
                }
                20% {
                  transform: translateY(0);
                }
                100% {
                  transform: translateY(-$paddingS);
                }
              }
            }
          }

          &.banner-block {
            padding-top: 0px;

            .img-container {
              grid-column: 1 / 26;

              @include breakpoint(small down) {
                img {
                  width: 100%;
                  height: 30vh;
                  object-fit: cover;
                }
              }
            }
          }

          &.single-img {
            padding-top: 4vw;

            .img-container {
              grid-column: 3 / 24;

              @include breakpoint(medium only) {
                grid-column: 3 / 24;
              }

              @include breakpoint(small down) {
                grid-column: 3 / 24;
              }

              &.website {
                grid-column: 3 / 24;
                line-height: 0;
                background-color: #f1f0ee;
                overflow: hidden;
                padding: calc(16px + 116 * (100vw - 320px) / 1680);

                @include breakpoint(medium down) {
                  grid-column: 3 / 24;
                }

                @include breakpoint(small down) {
                  grid-column: 1 / 26;
                  padding: 8vw;
                }

                &:before {
                  content: "•••";
                  color: $black;
                  background-color: $grey;
                  padding: 0px calc(4px + 4 * (100vw - 320px) / 1680);
                  font-size: calc(4px + 20 * (100vw - 320px) / 1680);
                  line-height: 1;
                  height: calc(12px + 20 * (100vw - 320px) / 1680);
                  display: block;
                  position: relative;
                  border-top-left-radius: calc(
                    4px + 4 * (100vw - 320px) / 1680
                  );
                  border-top-right-radius: calc(
                    4px + 4 * (100vw - 320px) / 1680
                  );
                  width: 100%;
                  display: flex;
                  flex-direction: row;
                  align-items: center;
                  justify-content: flex-start;
                }

                img {
                  box-shadow: 0px 16px 40px -16px rgba(0, 0, 0, 0.24);
                  display: block !important;
                  transition: transform 200ms $easing;
                }
              }

              &.device {
                margin-top: 12vw;
                margin-bottom: 4vw;
                grid-column: 6 / 21;
                line-height: 0;
                border-radius: calc(24px + 40 * (100vw - 320px) / 1680);
                background-color: $black;
                overflow: hidden;

                @include breakpoint(medium only) {
                  grid-column: 4 / 23;
                }

                @include breakpoint(small down) {
                  grid-column: 3 / 24;
                }

                img {
                  border-radius: calc(24px + 24 * (100vw - 320px) / 1680);
                  padding: calc(8px + 16 * (100vw - 320px) / 1680);
                  display: block !important;
                  transition: transform 200ms $easing;
                }
              }
            }

            &.bleed {
              padding-top: $margin;

              .img-container {
                grid-column: 1 / 26;

                @include breakpoint(small down) {
                  img {
                    width: 100%;
                    height: 60vh;
                    object-fit: cover;
                  }
                }
              }
            }
          }

          &.image-carousel {
            display: grid;

            .swiper-container {
              overflow-x: hidden;
              width: 100vw;
              height: auto;

              .swiper-wrapper {
                .swiper-slide {
                  cursor: move; /* fallback if grab cursor is unsupported */
                  cursor: grab;
                  height: auto;
                  width: clamp(335px, calc(25vw), 320px);
                  margin-left: $paddingL;

                  img {
                    position: relative;
                    top: 50%;
                    transform: translateY(-50%);
                  }

                  &:first-of-type {
                    margin-left: $paddingXXL !important;
                  }

                  &:last-of-type {
                    margin-right: $paddingL !important;
                  }

                  @include breakpoint(small down) {
                    max-width: 33vw;
                  }
                  @include breakpoint(small down) {
                    max-width: 45vw;
                    margin-left: $paddingM;

                    &:first-of-type {
                      margin-left: $paddingL !important;
                    }
                    &:last-of-type {
                      margin-right: $paddingL !important;
                    }
                  }
                }
              }
            }
          }

          &.quote-block {
            padding-top: $margin;
            padding-bottom: $margin;

            .text-block {
              grid-column: 2 / 13;

              @include breakpoint(medium down) {
                grid-column: 2 / 14;
              }

              @include breakpoint(small down) {
                grid-column: 2 / 24;
              }
            }
          }

          &.image-text {
            padding-top: 12vw;

            .img-container {
              grid-column: 3 / 13;

              @include breakpoint(medium only) {
                grid-column: 3 / 13;
              }

              @include breakpoint(small down) {
                grid-column: 3 / 24;
                padding-bottom: $paddingM;
              }

              img {
                padding-bottom: 4vw;

                &:only-of-type,
                &:last-of-type {
                  padding-bottom: none;
                }
              }
            }

            .text-block {
              grid-column: 15 / 24;
              position: sticky;
              top: $paddingXXL;
              align-self: flex-start;

              @include breakpoint(medium only) {
                grid-column: 14 / 24;
              }

              @include breakpoint(small down) {
                grid-column: 3 / 24;
              }

              .text-container {
                blockquote {
                  .body-title {
                    padding-bottom: $paddingS;
                  }

                  ul {
                    list-style: none;
                    margin: 0;
                    padding-top: $paddingM;

                    li {
                      overflow: hidden;
                      position: relative;

                      &:before {
                        display: inline;
                        position: absolute;
                        top: 0;
                        left: 0;
                        content: "‣";
                        font-size: calc(100% * 2);
                        line-height: 0.6;
                      }

                      p {
                        display: inline-block;
                        padding-left: 32px;
                      }
                    }
                  }
                }
              }
            }

            &.flip {
              .img-container {
                grid-column: 15 / 23;
              }
            }
          }

          &.double-img {
            padding-top: 4vw;
            .img-container {
              grid-row: 1;
              &.left-image {
                grid-column: 3 / 13;
              }
              &.right-image {
                grid-column: 14 / 24;
              }

              @include breakpoint(medium down) {
                &.left-image {
                  grid-column: 3 / 13;
                }
                &.right-image {
                  grid-column: 14 / 24;
                }
              }

              @include breakpoint(small down) {
                &.left-image {
                  grid-column: 3 / 24;
                  grid-row: 1;
                  padding-bottom: 8vw;
                }
                &.right-image {
                  grid-column: 3 / 24;
                  grid-row: 2;
                }
              }
            }

            &.flip {
              .img-container {
                &.left-image {
                  grid-column: 14 / 25;
                }
                &.right-image {
                  grid-column: 2 / 13;
                }

                @include breakpoint(small down) {
                  &.left-image {
                    grid-column: 16 / 24;
                  }
                  &.right-image {
                    grid-column: 3 / 13;
                  }
                }
              }
            }
          }

          &.triple-img {
            padding-top: 4vw;
            padding-bottom: 4vw;

            .grid {
              display: grid;
              grid-column: 3 / 24;

              // @include breakpoint(small down) {
              //   grid-template-columns: repeat(24, 1fr);
              // }

              .img-container {
                &.left-image {
                  grid-column: 1 / 8;
                  padding-right: 2vw;
                }
                &.center-image {
                  grid-column: 9 / 16;
                  padding-right: 2vw;
                  padding-left: 2vw;
                }
                &.right-image {
                  padding-left: 2vw;
                  grid-column: 17 / 24;
                }

                &.device {
                  &.left-image {
                    grid-column: 1 / span 7;
                  }
                  &.center-image {
                    grid-column: 8 / span 7;
                  }
                  &.right-image {
                    grid-column: 15 / span 7;
                  }
                  .device-inner {
                    border-radius: calc(24px + 24 * (100vw - 320px) / 1680);
                    background-color: $black;
                    overflow: hidden;

                    img {
                      border-radius: calc(24px + 24 * (100vw - 320px) / 1680);
                      padding: calc(1vw + 0.5 * (100vw - 320px) / 1680);
                      transition: transform 200ms $easing;
                    }
                  }

                  &.left-image {
                    grid-column: 3 / 8;

                    @include breakpoint(medium down) {
                      grid-column: 3 / 8;
                    }

                    @include breakpoint(small down) {
                      grid-column: 1 / span 8;
                      .device-inner {
                        transform: translateX(-$paddingL);
                      }
                    }
                  }

                  &.center-image {
                    grid-column: 10 / 15;

                    @include breakpoint(medium down) {
                      grid-column: 10 / 15;
                    }

                    @include breakpoint(small down) {
                      grid-column: 9 / span 8;
                    }
                  }

                  &.right-image {
                    grid-column: 17 / 22;

                    @include breakpoint(medium down) {
                      grid-column: 17 / 22;
                    }

                    @include breakpoint(small down) {
                      grid-column: 17 / span 8;
                      transform: translateX($paddingL);
                    }
                  }
                }
              }
            }
          }

          &.meta-block {
            width: 100vw;
            padding-top: $margin;
            padding-bottom: $margin;

            .text-block {
              grid-column: 2 / span 9;
              &:first-of-type {
                grid-row: 1;
                padding-bottom: 4vw;
              }
              &:last-of-type {
                grid-row: 2;
              }

              &:only-of-type {
                grid-row: 1;
                grid-column: 2 / span 9;
              }

              @include breakpoint(small down) {
                margin-right: auto;
                padding-bottom: 8vw;

                &:first-of-type {
                  grid-column: 2 / span 4;
                  grid-row: 1;
                }
                &:last-of-type {
                  grid-column: 2 / span 4;
                  grid-row: 2;
                }
              }

              .text-container {
                @include breakpoint(small down) {
                  padding: 0;
                }

                blockquote {
                  h1,
                  h2 {
                    padding-bottom: $paddingS;
                  }
                  h3,
                  p {
                    &.body-text {
                      a {
                        border-bottom: 2px solid $grey;
                      }
                    }
                  }
                }
              }
            }
          }

          &.links {
            width: 100vw;
            padding: calc(4vh + 4vw) 0;
            display: inline-grid;
            grid-template-columns: repeat(6, 1fr);

            a {
              &:hover {
                border-bottom: none !important;
              }
            }

            .text-block {
              grid-column: 3 / span 2;

              .text-container {
                padding: 0 $paddingM;

                blockquote {
                  h3 {
                    &.body-title {
                      padding-bottom: $paddingXS;
                      font-weight: 700;
                    }
                  }
                }
              }
            }
          }
        }
      }
    }

    .similar-block {
      min-height: 100vh;
      z-index: 2000;
      display: grid;
      grid-template-columns: repeat(25, 1fr);

      .viewAll {
        position: relative;
        grid-row: 1;
        grid-column: 20/25;
        z-index: 9999;

        nav {
          display: grid;
          position: relative;
          opacity: 1;
          height: 100px;

          @include breakpoint(small down) {
            height: 80px;
          }

          .nav-item {
            margin-left: auto;
            text-align: right;
            h1,
            h2 {
              text-transform: uppercase;
              letter-spacing: -0.05em;
              margin-bottom: 0;
              line-height: 48px;

              a {
                border-bottom: transparent;
                position: relative;
                display: block;

                &:hover,
                &.router-link-exact-active {
                  h1 {
                    color: $white;
                  }

                  svg {
                    overflow: visible;

                    .path {
                      animation: dash 200ms cubic-bezier(0.75, 0, 0.75, 1)
                        forwards;
                    }
                  }
                }

                svg {
                  position: absolute;
                  transform: translate(-50%, -50%);
                  top: 50%;
                  left: 50%;
                  bottom: 0;
                  width: 150%;
                  height: auto;

                  .path {
                    stroke-width: 16px;
                    stroke-dasharray: 2000;
                    stroke-dashoffset: 2000;
                  }

                  @keyframes dash {
                    from {
                      stroke-dashoffset: 2000;
                    }
                    to {
                      stroke-dashoffset: 0;
                    }
                  }
                }
              }
            }
          }

          &.is-loaded {
            transform: translateY(0px);
            opacity: 1;
          }
        }
      }

      article {
        &.grid-item {
          grid-row: 1;
          grid-column: 2 / 22;

          @include breakpoint(small down) {
            grid-column: 2 / 22;
          }

          figure {
            &.project-grid {
              column-width: auto;
              padding-top: 3vw;

              ul {
                transform: translateY(-20px);

                p {
                  padding-bottom: 4vw;
                }

                li {
                  list-style: none !important;

                  a {
                    border-bottom: none !important;

                    h1 {
                      line-height: 1.1;
                      font-size: calc(36px + 84 * (100vw - 320px) / 1680);
                    }
                  }

                  &:hover {
                    a {
                      h1 {
                        color: $accent;
                      }
                    }
                  }

                  &.isOpen {
                    pointer-events: none;
                    cursor: pointer;
                    a {
                      h1 {
                        text-decoration: line-through;
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
